<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - animation - skinning</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="../main.css">
		<style>
			a {
				color: #f00;
			}
			.no-pointer-events {
				pointer-events: none;
			}
			.control-disabled {
				color: #888;
				text-decoration: line-through;
			}
		</style>
	</head>
	<body>
		<textarea cols="200" rows="50" id="ta">

		</textarea>
		<div id="container"></div>
		<script type="module">
			import * as THREE from '../three/build/three.module.js';
			import { GLTFLoader } from '../three/examples/jsm/loaders/GLTFLoader.js';

			const loader = new GLTFLoader();
			loader.load( '../models/soldier.glb', function ( gltf ) {
				var model = gltf.scene.clone().clone().clone().clone();
				
				var str="";
				var i = 0;
				function printGraph( obj ) {
					i++;
					str += " ".repeat(i) +  obj.name + ": " + obj.type +"\r\n";
					obj.children.forEach( printGraph );
					i--;
				}

				printGraph(model)

				// str = gltf + " " + str;
				// console.log(gltf);

				document.getElementById('ta').value = str;
				//document.getElementById('ta').value = "sadasd";

			} );
			
		</script>
	</body>
</html>
